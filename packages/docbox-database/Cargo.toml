[package]
name = "docbox-database"
version = "0.10.1"
edition = "2024"
description = "Docbox database structures, logic, and migrations"

license.workspace = true
authors.workspace = true
repository.workspace = true
readme.workspace = true

[dependencies]
# Secret management
docbox-secrets.workspace = true

# Asynchronous runtime & Helpers
tokio = { workspace = true, features = ["macros"] }

# Error handling
thiserror.workspace = true

# Serialization and JSON
serde.workspace = true
serde_json.workspace = true

# Logging
tracing.workspace = true

aws-config.workspace = true
aws-sigv4 = "1.3.7"
aws-credential-types = "1.2.11"
url.workspace = true

# Database client
sqlx = { version = "0.8.6", default-features = false, features = [
    # Using tokio async runtime
    "runtime-tokio",
    # TLS support backed by rustls
    "tls-rustls",
    # Macros
    "macros",
    # PostgreSQL database driver
    "postgres",
    # UUID support
    "uuid",
    # Date time support
    "chrono",
    # JSON support
    "json",
] }

# UUID v4 support
uuid.workspace = true

# Date & time
chrono.workspace = true

# Caching
moka.workspace = true

# Enum -> String helpers and macros
strum = { version = "0.27.2", features = ["derive"] }

utoipa.workspace = true

[dev-dependencies]
testcontainers-modules = { workspace = true, features = ["postgres"] }
